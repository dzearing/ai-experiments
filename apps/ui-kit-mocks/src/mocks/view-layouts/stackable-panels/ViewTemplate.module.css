.viewTemplate {
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
  background: var(--color-body-background);
}

.header {
  flex-shrink: 0;
  background: var(--color-panel-background);
  border-bottom: 1px solid var(--color-body-border);
  padding: var(--spacing);
  z-index: 10;
}

.body {
  flex: 1;
  display: flex;
  overflow: hidden;
  position: relative;
}

.panels {
  display: flex;
  flex-shrink: 0;
  overflow: visible;
  position: relative;
}

.panelsLeft {
  border-right: 1px solid var(--color-body-border);
}

.panelsRight {
  border-left: 1px solid var(--color-body-border);
}

.panel {
  background: var(--color-panel-background);
  width: 240px;
  position: relative;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transform-origin: center;
}

/* Panels animate with a wrapper that preserves layout space */
.panelWrapper {
  width: var(--panel-width, 240px);
  position: relative;
  overflow: visible;
}

.panelsLeft .panel,
.panelsRight .panel {
  position: relative;
  transform-origin: center center;
}

/* Only animate new panels */
.panelsLeft .panelNew {
  animation: slideFromBehindLeft 450ms;
  animation-fill-mode: both;
}

.panelsRight .panelNew {
  animation: slideFromBehindRight 450ms;
  animation-fill-mode: both;
}

/* Ensure new panels appear behind existing ones during animation */
.panelsLeft .panel,
.panelsRight .panel {
  position: relative;
  z-index: 2; /* Default z-index for all panels */
}

/* The animating panel gets lower z-index to appear behind */
.panelsLeft .panel:last-child {
  z-index: 1; /* Newest panel (last in left side) stays behind during animation */
}

.panelsRight .panel:first-child {
  z-index: 1; /* Newest panel (first in right side) stays behind during animation */
}

.panel + .panel {
  border-left: 1px solid var(--color-body-border);
}

.panelsRight .panel + .panel {
  border-left: 1px solid var(--color-body-border);
  border-right: none;
}

.main {
  flex: 1;
  overflow: auto;
  padding: var(--spacing);
  background: var(--color-body-background);
}

.footer {
  flex-shrink: 0;
  background: var(--color-panel-background);
  border-top: 1px solid var(--color-body-border);
  padding: var(--spacing);
  display: flex;
  align-items: center;
  gap: var(--spacing);
}

.footerContent {
  flex: 1;
}

/* Left panel animations - slide from behind neighboring panel */
@keyframes slideFromBehindLeft {
  0% {
    /* Start behind the neighbor panel, scaled down */
    transform: translateX(-120px) scale(0.95); /* -120px = half of 240px panel width */
    opacity: 0;
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1); /* ease-out for slide */
  }
  60% {
    /* Panel center is now aligned with final position center, still scaled */
    transform: translateX(0) scale(0.95);
    opacity: 1;
    animation-timing-function: cubic-bezier(0.4, 0, 0.6, 1); /* ease-in-out for scale */
  }
  100% {
    /* Scale to full size from center */
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

/* Right panel animations - slide from behind neighboring panel */
@keyframes slideFromBehindRight {
  0% {
    /* Start behind the neighbor panel, scaled down */
    transform: translateX(120px) scale(0.95); /* 120px = half of 240px panel width */
    opacity: 0;
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1); /* ease-out for slide */
  }
  60% {
    /* Panel center is now aligned with final position center, still scaled */
    transform: translateX(0) scale(0.95);
    opacity: 1;
    animation-timing-function: cubic-bezier(0.4, 0, 0.6, 1); /* ease-in-out for scale */
  }
  100% {
    /* Scale to full size from center */
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}


.panelHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-small10) var(--spacing);
  border-bottom: 1px solid var(--color-panel-border);
  flex-shrink: 0;
}

.panelTitle {
  font-size: var(--font-size-h5);
  font-weight: var(--font-weight-semibold);
  color: var(--color-panel-text);
  margin: 0;
}

.panelDismiss {
  background: transparent;
  border: none;
  color: var(--color-panel-textSoft20);
  cursor: pointer;
  padding: var(--spacing-small20);
  border-radius: var(--radius-small);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background var(--duration-fast), color var(--duration-fast);
}

.panelDismiss:hover {
  background: var(--color-panel-backgroundHard10);
  color: var(--color-panel-text);
}

.panelDismiss:active {
  background: var(--color-panel-backgroundHard20);
}

.panelDismiss svg {
  width: 16px;
  height: 16px;
}

.panelBody {
  flex: 1;
  overflow: auto;
}

