---
phase: 09-layout-components
plan: 02
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - packages/ui-kit/react/src/components/PageHeader/PageHeader.tsx
  - packages/ui-kit/react/src/components/PageHeader/PageHeader.module.css
  - packages/ui-kit/react/src/components/PageHeader/PageHeader.stories.tsx
  - packages/ui-kit/react/src/components/TitleBar/TitleBar.tsx
  - packages/ui-kit/react/src/components/TitleBar/TitleBar.module.css
  - packages/ui-kit/react/src/components/TitleBar/TitleBar.stories.tsx
  - packages/ui-kit/react/src/index.ts
autonomous: true

must_haves:
  truths:
    - "PageHeader displays title, optional breadcrumbs, and action slot"
    - "TitleBar displays logo, title, tabs navigation, and trailing actions"
    - "Both components are exported from @ui-kit/react"
    - "Components use design tokens for spacing, colors, typography"
  artifacts:
    - path: "packages/ui-kit/react/src/components/PageHeader/PageHeader.tsx"
      provides: "PageHeader component with slots"
      exports: ["PageHeader", "PageHeaderProps"]
    - path: "packages/ui-kit/react/src/components/TitleBar/TitleBar.tsx"
      provides: "TitleBar component with tabs"
      exports: ["TitleBar", "TitleBarProps", "TitleBarTab"]
  key_links:
    - from: "packages/ui-kit/react/src/components/PageHeader/PageHeader.tsx"
      to: "packages/ui-kit/react/src/components/Breadcrumb/Breadcrumb.tsx"
      via: "Breadcrumb import and usage"
      pattern: "import.*Breadcrumb"
    - from: "packages/ui-kit/react/src/index.ts"
      to: "packages/ui-kit/react/src/components/PageHeader/PageHeader.tsx"
      via: "export statement"
      pattern: "export.*PageHeader"
---

<objective>
Create PageHeader and TitleBar layout components

Purpose: Provide standardized page structure components for consistent app layout. PageHeader handles page-level headers with breadcrumbs and actions. TitleBar handles app-level navigation with logo and tabs.

Output: Two new components with CSS modules, types, and Storybook stories
</objective>

<execution_context>
@/Users/dzearing/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dzearing/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/09-layout-components/09-RESEARCH.md
@packages/ui-kit/react/src/components/Breadcrumb/Breadcrumb.tsx
@packages/ui-kit/react/src/components/Breadcrumb/Breadcrumb.module.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PageHeader component</name>
  <files>
    packages/ui-kit/react/src/components/PageHeader/PageHeader.tsx
    packages/ui-kit/react/src/components/PageHeader/PageHeader.module.css
  </files>
  <action>
Create PageHeader component following existing Breadcrumb component patterns.

**PageHeader.tsx interface:**
```typescript
export interface PageHeaderProps {
  /** Page title - can be string or custom element */
  title: ReactNode;
  /** Breadcrumb navigation items */
  breadcrumbs?: BreadcrumbItem[];
  /** Actions slot (buttons, menus) */
  actions?: ReactNode;
  /** Optional subtitle/description */
  description?: ReactNode;
  /** Custom link component for breadcrumb routing */
  linkComponent?: React.ComponentType<{ href: string; children: ReactNode }>;
  /** Additional className */
  className?: string;
}
```

**Component structure:**
- Header element with class pageHeader
- If breadcrumbs provided, render Breadcrumb component above title
- Title row contains: title area (h1 + optional description) and actions slot
- Title uses h1 for semantic heading
- Actions slot is right-aligned (flex-end)

**CSS module (PageHeader.module.css):**
- Use design tokens: --body-text, spacing tokens (--spacing-*)
- Title row uses flexbox with space-between
- Title area grows to fill space, actions stay at natural width
- Responsive: on mobile, stack title and actions vertically
- Use --font-size-h3 or similar for title, --font-size-small for description
- Description uses --body-text-soft color

Follow the component file structure convention: export at bottom with displayName.
  </action>
  <verify>
TypeScript compiles without errors.
Component exports PageHeader and PageHeaderProps.
  </verify>
  <done>
PageHeader component created with title, breadcrumbs, actions, and description slots.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create TitleBar component</name>
  <files>
    packages/ui-kit/react/src/components/TitleBar/TitleBar.tsx
    packages/ui-kit/react/src/components/TitleBar/TitleBar.module.css
  </files>
  <action>
Create TitleBar component for app-level navigation.

**TitleBar.tsx interfaces:**
```typescript
export interface TitleBarTab {
  /** Tab identifier */
  value: string;
  /** Tab label */
  label: ReactNode;
  /** Tab icon (optional) */
  icon?: ReactNode;
}

export interface TitleBarProps {
  /** App logo or icon */
  logo?: ReactNode;
  /** App title */
  title?: ReactNode;
  /** Navigation tabs (e.g., Work/Web) */
  tabs?: TitleBarTab[];
  /** Currently active tab */
  activeTab?: string;
  /** Tab change callback */
  onTabChange?: (value: string) => void;
  /** Right-side actions (profile, settings) */
  actions?: ReactNode;
  /** Additional className */
  className?: string;
}
```

**Component structure:**
- Header element with role="banner" and class titleBar
- Three sections: leading (logo + title), center (tabs), trailing (actions)
- Tabs rendered as buttons with role="tab" and aria-selected
- Tab list wrapped in nav with role="tablist"

**CSS module (TitleBar.module.css):**
- Fixed height header bar (48-56px typical)
- Background: var(--panel-bg) or similar surface token
- Border bottom: var(--soft-border)
- Use z-index: var(--z-sticky) for potential sticky positioning
- Flexbox layout: leading and trailing at edges, tabs centered
- Tab styling: button base, active state with underline or background change
- Use duration/ease tokens for tab hover/active transitions
- Logo slot: constrain size (24-32px), maintain aspect ratio

Note: Do NOT use the existing Tabs component - TitleBar has simpler tab needs (no content panels, just navigation). Simple button-based tabs are preferred per research.
  </action>
  <verify>
TypeScript compiles without errors.
Component exports TitleBar, TitleBarProps, and TitleBarTab.
  </verify>
  <done>
TitleBar component created with logo, title, tabs, and actions slots.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add exports and Storybook stories</name>
  <files>
    packages/ui-kit/react/src/index.ts
    packages/ui-kit/react/src/components/PageHeader/PageHeader.stories.tsx
    packages/ui-kit/react/src/components/TitleBar/TitleBar.stories.tsx
  </files>
  <action>
**Add exports to index.ts:**
```typescript
export { PageHeader, type PageHeaderProps } from './components/PageHeader/PageHeader';
export { TitleBar, type TitleBarProps, type TitleBarTab } from './components/TitleBar/TitleBar';
```

**PageHeader.stories.tsx:**
- Default story: title only
- WithBreadcrumbs: title + breadcrumb items array
- WithActions: title + button actions slot
- Complete: all props (breadcrumbs, title, description, actions)
- Responsive: demonstrate mobile behavior

**TitleBar.stories.tsx:**
- Default story: logo + title only
- WithTabs: Work/Web tabs, controlled activeTab state
- WithActions: profile avatar or button in actions slot
- Complete: all props together
- Show tab switching interaction with useState in story

Use existing story patterns from Breadcrumb.stories.tsx or Button.stories.tsx.

Build package to verify:
cd packages/ui-kit/react && pnpm build
  </action>
  <verify>
pnpm build succeeds.
Stories render in Storybook (pnpm storybook in react package).
  </verify>
  <done>
PageHeader and TitleBar exported from package with comprehensive Storybook stories.
  </done>
</task>

</tasks>

<verification>
1. packages/ui-kit/react builds successfully
2. PageHeader renders with title, breadcrumbs, actions, description
3. TitleBar renders with logo, title, tabs, actions
4. Tab switching works in TitleBar (calls onTabChange, updates activeTab)
5. Both components use design tokens (no hardcoded colors/spacing)
6. Stories display correctly in Storybook
</verification>

<success_criteria>
- PageHeader component complete with 4 slots (title, breadcrumbs, actions, description)
- TitleBar component complete with tabs navigation
- Both components accessible (proper ARIA roles, heading hierarchy)
- Both components exported from @ui-kit/react
- Storybook stories document all variants
</success_criteria>

<output>
After completion, create `.planning/phases/09-layout-components/09-02-SUMMARY.md`
</output>
