---
phase: 07-core-extensions
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/ui-kit/core/src/tokens/typography.ts
autonomous: true

must_haves:
  truths:
    - "Display typography token (68px) is available as --text-display CSS variable"
    - "Large-title typography token (40px) is available as --text-5xl CSS variable"
    - "Title-1 typography token (28px) is available as --text-title-1 CSS variable"
    - "Subtitle-2 typography token (16px) is available as --text-subtitle-2 CSS variable"
    - "Body-2/body-3 typography tokens (14px, 12px) are available as CSS variables"
    - "Caption-1/caption-2 typography tokens (12px, 10px) are available as CSS variables"
  artifacts:
    - path: "packages/ui-kit/core/src/tokens/typography.ts"
      provides: "Extended typography token definitions"
      exports: ["fontSizeTokens", "typographyTokens", "generateTypographyTokens"]
  key_links:
    - from: "packages/ui-kit/core/src/tokens/typography.ts"
      to: "packages/ui-kit/core/src/themes/generator.ts"
      via: "generateTypographyTokens import"
      pattern: "generateTypographyTokens"
---

<objective>
Extend the typography token system with additional sizes for display, title, subtitle, body, and caption levels.

Purpose: The Coworker design system requires typography levels beyond the current scale tokens (xs through 4xl). Adding semantic typography tokens (display, title-1, subtitle-2, body-2/3, caption-1/2) enables components to use appropriate text sizes for their context while maintaining backward compatibility with existing scale tokens.

Output: Extended typography.ts with new font size tokens that flow through to all generated theme CSS.
</objective>

<execution_context>
@/Users/dzearing/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dzearing/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/ui-kit/core/src/tokens/typography.ts
@packages/ui-kit/core/src/themes/generator.ts
@.planning/research/SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add extended font size tokens</name>
  <files>packages/ui-kit/core/src/tokens/typography.ts</files>
  <action>
Extend the `fontSizeTokens` object in typography.ts with new semantic typography levels.

**Current tokens (preserve these for backward compatibility):**
```typescript
export const fontSizeTokens = {
  '--text-xs': '11px',
  '--text-sm': '13px',
  '--text-base': '15px',
  '--text-lg': '17px',
  '--text-xl': '20px',
  '--text-2xl': '24px',
  '--text-3xl': '30px',
  '--text-4xl': '36px',
} as const;
```

**Add new tokens after existing ones:**
```typescript
export const fontSizeTokens = {
  // Existing scale tokens (backward compatible)
  '--text-xs': '11px',
  '--text-sm': '13px',
  '--text-base': '15px',
  '--text-lg': '17px',
  '--text-xl': '20px',
  '--text-2xl': '24px',
  '--text-3xl': '30px',
  '--text-4xl': '36px',

  // Extended sizes for large displays
  '--text-5xl': '40px',      // large-title (TKN-05)
  '--text-display': '68px',  // display (TKN-04)

  // Semantic typography tokens
  '--text-title-1': '28px',     // title-1 (TKN-06)
  '--text-subtitle-2': '16px',  // subtitle-2 (TKN-07)
  '--text-body-2': '14px',      // body-2 (TKN-08)
  '--text-body-3': '12px',      // body-3 (TKN-08)
  '--text-caption-1': '12px',   // caption-1 (TKN-09)
  '--text-caption-2': '10px',   // caption-2 (TKN-09)
} as const;
```

**Important considerations:**
1. Maintain `as const` assertion for type safety
2. Preserve all existing tokens exactly (no changes to values)
3. Add new tokens after existing ones for clear organization
4. Comments reference requirement IDs for traceability
  </action>
  <verify>
```bash
# Verify TypeScript compiles
cd packages/ui-kit/core && pnpm build

# Check tokens exist in compiled output
grep -q "text-display" dist/tokens/typography.js && echo "display token found"
grep -q "text-5xl" dist/tokens/typography.js && echo "5xl token found"
```
  </verify>
  <done>
fontSizeTokens object extended with all new typography levels. TypeScript compiles without errors. Backward compatibility maintained for existing tokens.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update generateTypographyTokens function</name>
  <files>packages/ui-kit/core/src/tokens/typography.ts</files>
  <action>
Update the `generateTypographyTokens` function to include the new font sizes in its scaling calculations.

**Update the baseSizes record to include new tokens:**
```typescript
const baseSizes: Record<FontSizeToken, number> = {
  // Existing
  '--text-xs': 11,
  '--text-sm': 13,
  '--text-base': 15,
  '--text-lg': 17,
  '--text-xl': 20,
  '--text-2xl': 24,
  '--text-3xl': 30,
  '--text-4xl': 36,

  // New extended sizes
  '--text-5xl': 40,
  '--text-display': 68,

  // New semantic sizes
  '--text-title-1': 28,
  '--text-subtitle-2': 16,
  '--text-body-2': 14,
  '--text-body-3': 12,
  '--text-caption-1': 12,
  '--text-caption-2': 10,
};
```

This ensures themes with custom baseSize or scale options correctly scale all typography tokens proportionally.

**Note:** The FontSizeToken type is derived from fontSizeTokens via `keyof typeof`, so it will automatically include the new tokens once fontSizeTokens is updated.
  </action>
  <verify>
```bash
# Run the build to verify everything compiles
cd packages/ui-kit/core && pnpm build

# Verify generated themes include new tokens
grep -q "text-display" dist/themes/default-light.css && echo "display token in CSS"
grep -q "text-caption-2" dist/themes/default-light.css && echo "caption-2 token in CSS"
```
  </verify>
  <done>
generateTypographyTokens function updated to scale all new typography tokens. Build succeeds. Generated theme CSS files include all new typography variables.
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify typography tokens in generated CSS</name>
  <files>packages/ui-kit/core/dist/themes/default-light.css</files>
  <action>
Verify that all new typography tokens appear correctly in the generated theme CSS.

**Expected tokens in generated CSS:**
- `--text-display: 68px;`
- `--text-5xl: 40px;`
- `--text-title-1: 28px;`
- `--text-subtitle-2: 16px;`
- `--text-body-2: 14px;`
- `--text-body-3: 12px;`
- `--text-caption-1: 12px;`
- `--text-caption-2: 10px;`

**Verification approach:**
1. Rebuild themes: `pnpm build`
2. Inspect default-light.css for all new tokens
3. Confirm existing tokens (--text-base, --text-lg, etc.) are unchanged

If any token is missing or has wrong value, trace back to typography.ts and fix.
  </action>
  <verify>
```bash
cd packages/ui-kit/core

# Rebuild themes
pnpm build

# Check all new tokens exist with correct values
grep "text-display.*68px" dist/themes/default-light.css && echo "display OK"
grep "text-5xl.*40px" dist/themes/default-light.css && echo "5xl OK"
grep "text-title-1.*28px" dist/themes/default-light.css && echo "title-1 OK"
grep "text-subtitle-2.*16px" dist/themes/default-light.css && echo "subtitle-2 OK"
grep "text-body-2.*14px" dist/themes/default-light.css && echo "body-2 OK"
grep "text-body-3.*12px" dist/themes/default-light.css && echo "body-3 OK"
grep "text-caption-1.*12px" dist/themes/default-light.css && echo "caption-1 OK"
grep "text-caption-2.*10px" dist/themes/default-light.css && echo "caption-2 OK"

# Verify backward compatibility - existing tokens unchanged
grep "text-base.*15px" dist/themes/default-light.css && echo "text-base unchanged"
grep "text-4xl.*36px" dist/themes/default-light.css && echo "text-4xl unchanged"
```
  </verify>
  <done>
All new typography tokens appear in generated CSS with correct values. Existing tokens remain unchanged (backward compatible). All themes regenerated successfully.
  </done>
</task>

</tasks>

<verification>
1. `packages/ui-kit/core/src/tokens/typography.ts` contains all new token definitions
2. TypeScript compilation succeeds without errors
3. FontSizeToken type automatically includes new tokens
4. Generated CSS files contain all 8 new typography tokens
5. Existing typography tokens remain unchanged (backward compatible)
6. All themes regenerate successfully with new tokens
</verification>

<success_criteria>
- Typography tokens extended with display (68px), large-title (40px), title-1 (28px)
- Typography tokens extended with subtitle-2 (16px), body-2/3 (14px, 12px), caption-1/2 (12px, 10px)
- Build succeeds without errors or warnings
- All generated theme CSS files include new tokens
- Backward compatibility maintained for existing components using --text-base, --text-lg, etc.
</success_criteria>

<output>
After completion, create `.planning/phases/07-core-extensions/07-02-SUMMARY.md`
</output>
