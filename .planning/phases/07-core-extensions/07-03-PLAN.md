---
phase: 07-core-extensions
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/ui-kit/core/src/tokens/index.ts
  - packages/ui-kit/core/src/tokens/gradients.ts
autonomous: true

must_haves:
  truths:
    - "Brand flair gradient tokens are available as CSS variables"
    - "Gradient uses Copilot brand colors (#464FEB, #47CFFA, #B47CF8)"
    - "Individual color stops are available as --brand-flair-1, --brand-flair-2, --brand-flair-3"
    - "Combined gradient is available as --gradient-brand"
  artifacts:
    - path: "packages/ui-kit/core/src/tokens/gradients.ts"
      provides: "Brand flair gradient token definitions"
      exports: ["gradientTokens", "brandFlairTokens"]
    - path: "packages/ui-kit/core/src/tokens/index.ts"
      provides: "Gradient tokens exported from tokens barrel"
      contains: "gradientTokens"
  key_links:
    - from: "packages/ui-kit/core/src/tokens/gradients.ts"
      to: "packages/ui-kit/core/src/tokens/index.ts"
      via: "export aggregation"
      pattern: "from './gradients'"
    - from: "packages/ui-kit/core/src/tokens/index.ts"
      to: "packages/ui-kit/core/src/themes/generator.ts"
      via: "staticTokens import"
      pattern: "staticTokens"
---

<objective>
Create brand flair gradient tokens for the Copilot visual identity.

Purpose: The Copilot brand uses a distinctive 3-color gradient (#464FEB → #47CFFA → #B47CF8) for premium visual elements. Adding these as design tokens enables consistent usage across components while maintaining theme-ability.

Output: New gradients.ts token file with brand flair colors and gradient definitions, integrated into the token system.
</objective>

<execution_context>
@/Users/dzearing/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dzearing/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/ui-kit/core/src/tokens/index.ts
@packages/ui-kit/core/src/tokens/spacing.ts
@packages/ui-kit/core/src/themes/generator.ts
@.planning/research/SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create gradient tokens file</name>
  <files>packages/ui-kit/core/src/tokens/gradients.ts</files>
  <action>
Create a new token file for gradient definitions following the pattern established by spacing.ts and typography.ts.

**File: packages/ui-kit/core/src/tokens/gradients.ts**

```typescript
/**
 * Gradient tokens
 *
 * Brand flair gradients for premium visual elements.
 * Based on Copilot brand colors from Koto design system.
 */

// Brand flair color stops (Copilot gradient)
export const brandFlairTokens = {
  '--brand-flair-1': '#464FEB',  // Purple/blue
  '--brand-flair-2': '#47CFFA',  // Cyan
  '--brand-flair-3': '#B47CF8',  // Violet
} as const;

// Gradient definitions
export const gradientTokens = {
  // Brand flair gradient (horizontal, left to right)
  '--gradient-brand': 'linear-gradient(90deg, var(--brand-flair-1), var(--brand-flair-2), var(--brand-flair-3))',

  // Brand flair gradient (vertical, top to bottom)
  '--gradient-brand-vertical': 'linear-gradient(180deg, var(--brand-flair-1), var(--brand-flair-2), var(--brand-flair-3))',

  // Brand flair gradient (diagonal)
  '--gradient-brand-diagonal': 'linear-gradient(135deg, var(--brand-flair-1), var(--brand-flair-2), var(--brand-flair-3))',

  // Include individual color stops for reference
  ...brandFlairTokens,
} as const;

export type BrandFlairToken = keyof typeof brandFlairTokens;
export type GradientToken = keyof typeof gradientTokens;
```

**Design decisions:**
1. Individual color stops as tokens (--brand-flair-1/2/3) for custom compositions
2. Pre-composed gradients for common use cases (horizontal, vertical, diagonal)
3. Gradients reference CSS variables so they work with theme overrides
4. Following `as const` pattern for type inference
  </action>
  <verify>
```bash
# Verify file created and TypeScript valid
cd packages/ui-kit/core
cat src/tokens/gradients.ts
pnpm tsc --noEmit
```
  </verify>
  <done>
gradients.ts file created with brand flair color stops and gradient definitions. TypeScript validates without errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate gradient tokens into token system</name>
  <files>packages/ui-kit/core/src/tokens/index.ts</files>
  <action>
Update the tokens barrel file to export and include gradient tokens in staticTokens.

**Update packages/ui-kit/core/src/tokens/index.ts:**

1. Add export for gradients module:
```typescript
export * from './gradients';
```

2. Import gradientTokens:
```typescript
import { gradientTokens } from './gradients';
```

3. Add to staticTokens object:
```typescript
export const staticTokens = {
  ...spacingTokens,
  ...typographyTokens,
  ...radiiTokens,
  ...shadowTokens,
  ...animationTokens,
  ...gradientTokens,  // Add gradient tokens
} as const;
```

This ensures gradient tokens are:
- Exported for direct use
- Included in staticTokens for theme generation
- Available in generated CSS files
  </action>
  <verify>
```bash
cd packages/ui-kit/core

# Verify TypeScript compiles
pnpm tsc --noEmit

# Build to verify tokens flow through
pnpm build

# Check gradient tokens in compiled output
grep -q "gradient-brand" dist/tokens/index.js && echo "gradient tokens exported"
```
  </verify>
  <done>
Gradient tokens integrated into token barrel. staticTokens includes gradient tokens. TypeScript compiles without errors.
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify gradient tokens in generated CSS</name>
  <files>packages/ui-kit/core/dist/themes/default-light.css</files>
  <action>
Verify that gradient tokens appear in generated theme CSS files.

**Expected tokens:**
- `--brand-flair-1: #464FEB;`
- `--brand-flair-2: #47CFFA;`
- `--brand-flair-3: #B47CF8;`
- `--gradient-brand: linear-gradient(...);`
- `--gradient-brand-vertical: linear-gradient(...);`
- `--gradient-brand-diagonal: linear-gradient(...);`

**Verification steps:**
1. Build the core package
2. Inspect generated CSS for gradient tokens
3. Verify the gradient values use CSS variable references (not hardcoded colors)

If tokens are missing, trace through:
1. gradients.ts exports
2. index.ts includes in staticTokens
3. generator.ts processes staticTokens
  </action>
  <verify>
```bash
cd packages/ui-kit/core

# Rebuild
pnpm build

# Check brand flair tokens
grep "brand-flair-1.*464FEB" dist/themes/default-light.css && echo "flair-1 OK"
grep "brand-flair-2.*47CFFA" dist/themes/default-light.css && echo "flair-2 OK"
grep "brand-flair-3.*B47CF8" dist/themes/default-light.css && echo "flair-3 OK"

# Check gradient tokens
grep "gradient-brand:" dist/themes/default-light.css && echo "gradient-brand OK"
grep "gradient-brand-vertical:" dist/themes/default-light.css && echo "gradient-vertical OK"
grep "gradient-brand-diagonal:" dist/themes/default-light.css && echo "gradient-diagonal OK"

# Verify gradient uses CSS variables (not hardcoded)
grep "gradient-brand.*var(--brand-flair" dist/themes/default-light.css && echo "Uses CSS vars OK"
```
  </verify>
  <done>
All gradient tokens appear in generated CSS. Brand flair colors correct. Gradient definitions reference CSS variables for theme flexibility. All themes regenerate successfully.
  </done>
</task>

</tasks>

<verification>
1. `packages/ui-kit/core/src/tokens/gradients.ts` exists with correct token definitions
2. `packages/ui-kit/core/src/tokens/index.ts` exports gradient tokens
3. staticTokens includes gradientTokens
4. TypeScript compilation succeeds
5. Generated CSS files contain all gradient tokens
6. Gradient values use CSS variable references
</verification>

<success_criteria>
- Brand flair gradient tokens created (--brand-flair-1/2/3, --gradient-brand variants)
- Tokens use correct Copilot brand colors (#464FEB, #47CFFA, #B47CF8)
- Tokens integrated into token system and staticTokens
- Build succeeds without errors
- All generated theme CSS files include gradient tokens
- Gradients defined using CSS variable references for theme flexibility
</success_criteria>

<output>
After completion, create `.planning/phases/07-core-extensions/07-03-SUMMARY.md`
</output>
