<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypingIndicator - Fixed Mockup</title>
    
    <!-- UI Kit Styles -->
    <link rel="stylesheet" href="/assets/styles.css">
    
    <!-- Set theme base path for mockups -->
    <script>
        window.__uiKitBasePath = '/assets/';
    </script>    
    <!-- Theme Scripts (ES modules) -->
    <script type="module" src="/assets/theme.js"></script>
    <script type="module" src="/assets/theme-switcher.js"></script>
    
    <style>
        /* Component-specific avatar gradient */
        :root {
            --avatar-gradient-ai: linear-gradient(135deg, var(--color-primary-background) 0%, var(--color-info-background) 100%);
        }

        /* Component-specific styles using ui-kit tokens */
        body {
            font-family: var(--font-family);
            font-size: var(--font-size);
            line-height: var(--line-height);
            color: var(--color-body-text);
            background: var(--color-body-background);
            padding: var(--spacing-large10);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .demo-section {
            background: var(--color-panel-background);
            border-radius: var(--radius-large10);
            padding: var(--spacing-large10);
            margin-bottom: var(--spacing-large10);
            box-shadow: var(--shadow-card);
        }

        .demo-title {
            font-size: var(--font-size-h4);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--spacing);
        }

        .demo-description {
            color: var(--color-body-textSoft10);
            margin-bottom: var(--spacing);
            font-size: var(--font-size-small10);
        }

        /* TypingIndicator Component Styles */
        .typing-indicator {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-small10);
            padding: var(--spacing-small10) var(--spacing);
            background: var(--color-panel-background);
            border-radius: var(--radius-large10);
            margin: var(--spacing-small10) 0;
        }

        .typing-indicator--user {
            background: var(--color-infoSoft-background);
        }

        .typing-indicator--system {
            background: var(--color-warningSoft-background);
        }

        /* Avatar */
        .typing-indicator__avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--avatar-gradient-ai);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-primary-text);
            font-size: var(--font-size-smallest);
            font-weight: var(--font-weight-semibold);
            flex-shrink: 0;
        }

        .typing-indicator--user .typing-indicator__avatar {
            background: var(--color-primary-background);
        }

        .typing-indicator--system .typing-indicator__avatar {
            background: var(--color-warning-background);
        }

        /* Dots Container */
        .typing-indicator__dots {
            display: flex;
            align-items: center;
            gap: 3px;
            height: 20px;
        }

        /* Dot Styles */
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--color-body-textSoft10);
        }

        /* Wave Animation (Default) */
        .typing-indicator--wave .typing-dot {
            animation: wave 1.4s ease-in-out infinite;
        }

        .typing-indicator--wave .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-indicator--wave .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator--wave .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes wave {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* Pulse Animation */
        .typing-indicator--pulse .typing-dot {
            animation: pulse 1.4s ease-in-out infinite;
        }

        .typing-indicator--pulse .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-indicator--pulse .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator--pulse .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes pulse {
            0%, 60%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            30% {
                opacity: 1;
                transform: scale(1.3);
            }
        }

        /* Bounce Animation */
        .typing-indicator--bounce .typing-dot {
            animation: bounce 1.4s ease-in-out infinite;
        }

        .typing-indicator--bounce .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-indicator--bounce .typing-dot:nth-child(2) {
            animation-delay: 0.15s;
        }

        .typing-indicator--bounce .typing-dot:nth-child(3) {
            animation-delay: 0.3s;
        }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        /* Fade Animation */
        .typing-indicator--fade .typing-dot {
            animation: fade 1.5s ease-in-out infinite;
        }

        .typing-indicator--fade .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-indicator--fade .typing-dot:nth-child(2) {
            animation-delay: 0.5s;
        }

        .typing-indicator--fade .typing-dot:nth-child(3) {
            animation-delay: 1s;
        }

        @keyframes fade {
            0%, 100% {
                opacity: 0.2;
            }
            50% {
                opacity: 1;
            }
        }

        /* Size Variations */
        .typing-indicator--small .typing-dot {
            width: 6px;
            height: 6px;
        }

        .typing-indicator--large .typing-dot {
            width: 10px;
            height: 10px;
        }

        .typing-indicator--small .typing-indicator__avatar {
            width: 20px;
            height: 20px;
            font-size: 9px;
        }

        .typing-indicator--large .typing-indicator__avatar {
            width: 28px;
            height: 28px;
            font-size: 11px;
        }

        /* Text Label */
        .typing-indicator__label {
            color: var(--color-body-textSoft10);
            font-size: var(--font-size-small);
            margin-left: var(--spacing-small20);
        }

        /* Chat Context */
        .chat-context {
            background: var(--color-surface);
            border-radius: var(--radius-md);
            padding: var(--spacing);
            margin-bottom: var(--spacing);
        }

        .chat-message {
            display: flex;
            gap: var(--spacing-small10);
            margin-bottom: var(--spacing-small10);
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--color-primary);
            color: var(--color-primary-text);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-small);
            font-weight: 600;
        }

        .message-content {
            flex: 1;
            background: var(--color-assistant-bg);
            padding: var(--spacing-small10) var(--spacing);
            border-radius: var(--radius-md);
        }

        /* Controls */
        .controls {
            display: flex;
            gap: var(--spacing-small10);
            margin-top: var(--spacing);
            flex-wrap: wrap;
        }

        .btn {
            padding: var(--spacing-small20) var(--spacing);
            background: var(--color-primary);
            color: var(--color-primary-text);
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: var(--font-size-small);
            transition: background 0.2s;
        }

        .btn:hover {
            background: #0052a3;
        }

        .btn--secondary {
            background: var(--color-body-background);
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }

        .btn--secondary:hover {
            background: var(--color-surface);
        }

        .btn.active {
            background: #004080;
        }

        /* Grid Layout */
        .indicator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing);
            margin-top: var(--spacing);
        }

        .indicator-card {
            background: var(--color-surface);
            padding: var(--spacing);
            border-radius: var(--radius-md);
            border: 1px solid var(--color-border);
        }

        .indicator-label {
            font-weight: 600;
            font-size: var(--font-size-small);
            color: var(--color-body-textSoft10);
            margin-bottom: var(--spacing-small10);
        }

        /* Multiple Users */
        .multiple-indicators {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-small20);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Basic Example in Chat Context -->
        <div class="demo-section">
            <h2 class="demo-title">Typing Indicator in Chat Context</h2>
            <p class="demo-description">Shows how typing indicators appear in a real chat interface</p>
            
            <div class="chat-context">
                <div class="chat-message">
                    <div class="message-avatar">You</div>
                    <div class="message-content">
                        Can you explain how React hooks work?
                    </div>
                </div>
                
                <!-- Typing Indicator -->
                <div class="typing-indicator typing-indicator--wave">
                    <div class="typing-indicator__avatar">AI</div>
                    <div class="typing-indicator__dots">
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                    </div>
                    <span class="typing-indicator__label">AI is typing...</span>
                </div>
            </div>
        </div>

        <!-- Animation Styles -->
        <div class="demo-section">
            <h2 class="demo-title">Animation Styles</h2>
            <p class="demo-description">Different animation patterns for typing indicators</p>
            
            <div class="indicator-grid">
                <div class="indicator-card">
                    <div class="indicator-label">Wave (Default)</div>
                    <div class="typing-indicator typing-indicator--wave">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">Pulse</div>
                    <div class="typing-indicator typing-indicator--pulse">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">Bounce</div>
                    <div class="typing-indicator typing-indicator--bounce">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">Fade</div>
                    <div class="typing-indicator typing-indicator--fade">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Size Variations -->
        <div class="demo-section">
            <h2 class="demo-title">Size Variations</h2>
            <p class="demo-description">Different sizes for various UI contexts</p>
            
            <div class="indicator-grid">
                <div class="indicator-card">
                    <div class="indicator-label">Small</div>
                    <div class="typing-indicator typing-indicator--wave typing-indicator--small">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">Medium (Default)</div>
                    <div class="typing-indicator typing-indicator--wave">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">Large</div>
                    <div class="typing-indicator typing-indicator--wave typing-indicator--large">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Different Senders -->
        <div class="demo-section">
            <h2 class="demo-title">Different Sender Types</h2>
            <p class="demo-description">Typing indicators for different types of users</p>
            
            <div class="indicator-grid">
                <div class="indicator-card">
                    <div class="indicator-label">Assistant</div>
                    <div class="typing-indicator typing-indicator--wave">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                        <span class="typing-indicator__label">AI is typing...</span>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">User</div>
                    <div class="typing-indicator typing-indicator--wave typing-indicator--user">
                        <div class="typing-indicator__avatar">JD</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                        <span class="typing-indicator__label">John is typing...</span>
                    </div>
                </div>
                
                <div class="indicator-card">
                    <div class="indicator-label">System</div>
                    <div class="typing-indicator typing-indicator--wave typing-indicator--system">
                        <div class="typing-indicator__avatar">!</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                        <span class="typing-indicator__label">Processing...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Multiple Users Typing -->
        <div class="demo-section">
            <h2 class="demo-title">Multiple Users Typing</h2>
            <p class="demo-description">When multiple participants are typing simultaneously</p>
            
            <div class="chat-context">
                <div class="multiple-indicators">
                    <div class="typing-indicator typing-indicator--wave">
                        <div class="typing-indicator__avatar">AI</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                        <span class="typing-indicator__label">Claude is thinking...</span>
                    </div>
                    
                    <div class="typing-indicator typing-indicator--pulse typing-indicator--user">
                        <div class="typing-indicator__avatar">JS</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                        <span class="typing-indicator__label">John is typing...</span>
                    </div>
                    
                    <div class="typing-indicator typing-indicator--bounce typing-indicator--user">
                        <div class="typing-indicator__avatar">MJ</div>
                        <div class="typing-indicator__dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                        <span class="typing-indicator__label">Mary is typing...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive Demo -->
        <div class="demo-section">
            <h2 class="demo-title">Interactive Demo</h2>
            <p class="demo-description">Click buttons to see different states and animations</p>
            
            <div class="chat-context">
                <div id="interactive-indicator" class="typing-indicator typing-indicator--wave" style="display: none;">
                    <div class="typing-indicator__avatar">AI</div>
                    <div class="typing-indicator__dots">
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                    </div>
                    <span class="typing-indicator__label">AI is typing...</span>
                </div>
                
                <div id="typing-message" style="display: none; padding: var(--spacing-small10); color: var(--color-body-textSoft10);">
                    <em>No one is typing...</em>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn" onclick="toggleTyping()">Toggle Typing</button>
                <button class="btn btn--secondary" onclick="changeAnimation('wave')">Wave</button>
                <button class="btn btn--secondary" onclick="changeAnimation('pulse')">Pulse</button>
                <button class="btn btn--secondary" onclick="changeAnimation('bounce')">Bounce</button>
                <button class="btn btn--secondary" onclick="changeAnimation('fade')">Fade</button>
            </div>
        </div>
    </div>

    <script>
        let isTyping = false;
        
        function toggleTyping() {
            const indicator = document.getElementById('interactive-indicator');
            const message = document.getElementById('typing-message');
            isTyping = !isTyping;
            
            if (isTyping) {
                indicator.style.display = 'inline-flex';
                message.style.display = 'none';
            } else {
                indicator.style.display = 'none';
                message.style.display = 'block';
            }
        }
        
        function changeAnimation(type) {
            const indicator = document.getElementById('interactive-indicator');
            indicator.className = `typing-indicator typing-indicator--${type}`;
            
            // Show indicator if hidden
            if (!isTyping) {
                toggleTyping();
            }
        }
        
        // Start with typing shown
        toggleTyping();
    </script>
</body>
</html>