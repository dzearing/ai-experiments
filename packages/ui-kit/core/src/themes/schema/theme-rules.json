{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.0.0",
  "description": "UI Kit Theme Generation Rules - Defines all token roles, derivation rules, and color logic",

  "semanticColors": {
    "description": "Fixed semantic colors that remain consistent across all themes for UX clarity",
    "success": {
      "base": "#16a34a",
      "description": "Positive outcomes, confirmations, completion states"
    },
    "warning": {
      "base": "#f59e0b",
      "description": "Caution states, attention needed, pending actions"
    },
    "danger": {
      "base": "#dc2626",
      "description": "Errors, destructive actions, critical states"
    },
    "info": {
      "base": "#0ea5e9",
      "description": "Informational, neutral status, help content"
    }
  },

  "colorGroups": {
    "description": "Color group system: 18 tokens per group. Pick a group for your background, use ONLY that group's fg tokens. Contrast is guaranteed.",
    "tokenStructure": {
      "description": "Each color group contains 18 tokens: 4 bg states, 4 border states, 10 fg variants",
      "tokens": [
        "bg", "bg-hover", "bg-pressed", "bg-disabled",
        "border", "border-hover", "border-pressed", "border-disabled",
        "fg", "fg-soft", "fg-softer", "fg-strong", "fg-stronger",
        "fg-primary", "fg-danger", "fg-success", "fg-warning", "fg-info"
      ]
    },
    "groups": {
      "softer": {
        "description": "Recessed areas, input backgrounds, wells",
        "derivation": {
          "bg": { "light": "darken(page.bg, 4)", "dark": "darken(page.bg, 4)" },
          "bg-hover": { "light": "darken(page.bg, 6)", "dark": "lighten(page.bg, 4)" },
          "bg-pressed": { "light": "darken(page.bg, 8)", "dark": "lighten(page.bg, 6)" },
          "bg-disabled": { "light": "darken(page.bg, 2)", "dark": "darken(page.bg, 2)" },
          "border": { "light": "darken(page.bg, 12)", "dark": "lighten(page.bg, 16)" },
          "border-hover": { "light": "darken(page.bg, 16)", "dark": "lighten(page.bg, 20)" },
          "border-pressed": { "light": "darken(page.bg, 20)", "dark": "lighten(page.bg, 24)" },
          "border-disabled": { "light": "darken(page.bg, 8)", "dark": "lighten(page.bg, 10)" }
        }
      },
      "soft": {
        "description": "Elevated cards, panels, alternating row backgrounds",
        "derivation": {
          "bg": { "light": "lighten(page.bg, 8)", "dark": "lighten(page.bg, 8)" },
          "bg-hover": { "light": "lighten(page.bg, 12)", "dark": "lighten(page.bg, 12)" },
          "bg-pressed": { "light": "lighten(page.bg, 4)", "dark": "lighten(page.bg, 4)" },
          "bg-disabled": { "light": "lighten(page.bg, 6)", "dark": "lighten(page.bg, 6)" },
          "border": { "light": "darken(page.bg, 10)", "dark": "lighten(page.bg, 18)" },
          "border-hover": { "light": "darken(page.bg, 14)", "dark": "lighten(page.bg, 22)" },
          "border-pressed": { "light": "darken(page.bg, 18)", "dark": "lighten(page.bg, 26)" },
          "border-disabled": { "light": "darken(page.bg, 6)", "dark": "lighten(page.bg, 12)" }
        }
      },
      "base": {
        "description": "Default page content, main surface",
        "derivation": {
          "bg": "page.bg",
          "bg-hover": { "light": "darken(page.bg, 6)", "dark": "lighten(page.bg, 6)" },
          "bg-pressed": { "light": "darken(page.bg, 10)", "dark": "lighten(page.bg, 10)" },
          "bg-disabled": "page.bg",
          "border": { "light": "darken(page.bg, 14)", "dark": "lighten(page.bg, 20)" },
          "border-hover": { "light": "darken(page.bg, 18)", "dark": "lighten(page.bg, 24)" },
          "border-pressed": { "light": "darken(page.bg, 22)", "dark": "lighten(page.bg, 28)" },
          "border-disabled": { "light": "darken(page.bg, 8)", "dark": "lighten(page.bg, 12)" }
        }
      },
      "strong": {
        "description": "Emphasized sections, highlights",
        "derivation": {
          "bg": { "light": "darken(page.bg, 10)", "dark": "lighten(page.bg, 14)" },
          "bg-hover": { "light": "darken(page.bg, 14)", "dark": "lighten(page.bg, 18)" },
          "bg-pressed": { "light": "darken(page.bg, 18)", "dark": "lighten(page.bg, 22)" },
          "bg-disabled": { "light": "darken(page.bg, 6)", "dark": "lighten(page.bg, 8)" },
          "border": { "light": "darken(page.bg, 16)", "dark": "lighten(page.bg, 24)" },
          "border-hover": { "light": "darken(page.bg, 20)", "dark": "lighten(page.bg, 28)" },
          "border-pressed": { "light": "darken(page.bg, 24)", "dark": "lighten(page.bg, 32)" },
          "border-disabled": { "light": "darken(page.bg, 10)", "dark": "lighten(page.bg, 16)" }
        }
      },
      "stronger": {
        "description": "Maximum emphasis areas",
        "derivation": {
          "bg": { "light": "darken(page.bg, 20)", "dark": "lighten(page.bg, 24)" },
          "bg-hover": { "light": "darken(page.bg, 24)", "dark": "lighten(page.bg, 28)" },
          "bg-pressed": { "light": "darken(page.bg, 28)", "dark": "lighten(page.bg, 32)" },
          "bg-disabled": { "light": "darken(page.bg, 12)", "dark": "lighten(page.bg, 14)" },
          "border": { "light": "darken(page.bg, 24)", "dark": "lighten(page.bg, 32)" },
          "border-hover": { "light": "darken(page.bg, 28)", "dark": "lighten(page.bg, 36)" },
          "border-pressed": { "light": "darken(page.bg, 32)", "dark": "lighten(page.bg, 40)" },
          "border-disabled": { "light": "darken(page.bg, 16)", "dark": "lighten(page.bg, 20)" }
        }
      },
      "primary": {
        "description": "Selection, active states, branded elements",
        "derivation": {
          "bg": "theme:primary",
          "bg-hover": { "light": "darken(theme:primary, 8)", "dark": "lighten(theme:primary, 8)" },
          "bg-pressed": { "light": "darken(theme:primary, 12)", "dark": "lighten(theme:primary, 12)" },
          "bg-disabled": { "light": "mix(theme:primary, page.bg, 0.5)", "dark": "mix(theme:primary, page.bg, 0.5)" },
          "border": "transparent",
          "border-hover": { "light": "rgba(255, 255, 255, 0.2)", "dark": "rgba(0, 0, 0, 0.2)" },
          "border-pressed": { "light": "rgba(255, 255, 255, 0.3)", "dark": "rgba(0, 0, 0, 0.3)" },
          "border-disabled": "transparent",
          "fg": "contrast(bg)",
          "fg-soft": { "light": "rgba(255, 255, 255, 0.85)", "dark": "rgba(0, 0, 0, 0.85)" },
          "fg-softer": { "light": "rgba(255, 255, 255, 0.7)", "dark": "rgba(0, 0, 0, 0.7)" },
          "fg-strong": "contrast(bg)",
          "fg-stronger": "contrast(bg)",
          "fg-primary": "contrast(bg)",
          "fg-danger": { "light": "#fca5a5", "dark": "#7f1d1d" },
          "fg-success": { "light": "#86efac", "dark": "#14532d" },
          "fg-warning": { "light": "#fcd34d", "dark": "#78350f" },
          "fg-info": { "light": "#7dd3fc", "dark": "#0c4a6e" }
        }
      },
      "inverted": {
        "description": "Opposite color scheme (tooltips)",
        "defaults": {
          "light": {
            "bg": "#1a1a1a",
            "bg-hover": "#262626",
            "bg-pressed": "#333333",
            "bg-disabled": "#1f1f1f",
            "border": "#333333",
            "border-hover": "#404040",
            "border-pressed": "#4d4d4d",
            "border-disabled": "#262626",
            "fg": "#e5e5e5",
            "fg-soft": "#a3a3a3",
            "fg-softer": "#737373",
            "fg-strong": "#f0f0f0",
            "fg-stronger": "#ffffff",
            "fg-primary": "#60a5fa",
            "fg-danger": "#f87171",
            "fg-success": "#4ade80",
            "fg-warning": "#fbbf24",
            "fg-info": "#38bdf8"
          },
          "dark": {
            "bg": "#fafafa",
            "bg-hover": "#f0f0f0",
            "bg-pressed": "#e5e5e5",
            "bg-disabled": "#f5f5f5",
            "border": "#e5e5e5",
            "border-hover": "#d4d4d4",
            "border-pressed": "#c4c4c4",
            "border-disabled": "#f0f0f0",
            "fg": "#171717",
            "fg-soft": "#5b5b5b",
            "fg-softer": "#898989",
            "fg-strong": "#0f0f0f",
            "fg-stronger": "#000000",
            "fg-primary": "#2563eb",
            "fg-danger": "#dc2626",
            "fg-success": "#16a34a",
            "fg-warning": "#d97706",
            "fg-info": "#0284c7"
          }
        }
      },
      "success": {
        "description": "Success surfaces for toasts, notifications, alerts",
        "defaults": {
          "light": {
            "bg": "#dcfce7",
            "bg-hover": "#bbf7d0",
            "bg-pressed": "#86efac",
            "bg-disabled": "#f0fdf4",
            "border": "#86efac",
            "border-hover": "#4ade80",
            "border-pressed": "#22c55e",
            "border-disabled": "#bbf7d0",
            "fg": "#166534",
            "fg-soft": "#15803d",
            "fg-softer": "#22c55e",
            "fg-strong": "#14532d",
            "fg-stronger": "#052e16",
            "fg-primary": "#1d4ed8",
            "fg-danger": "#dc2626",
            "fg-success": "#166534",
            "fg-warning": "#a16207",
            "fg-info": "#0369a1"
          },
          "dark": {
            "bg": "#122e1a",
            "bg-hover": "#173820",
            "bg-pressed": "#1c4226",
            "bg-disabled": "#0e2414",
            "border": "#1f5c35",
            "border-hover": "#22663d",
            "border-pressed": "#2d804d",
            "border-disabled": "#14331d",
            "fg": "#86efac",
            "fg-soft": "#4ade80",
            "fg-softer": "#22c55e",
            "fg-strong": "#bbf7d0",
            "fg-stronger": "#dcfce7",
            "fg-primary": "#60a5fa",
            "fg-danger": "#f87171",
            "fg-success": "#4ade80",
            "fg-warning": "#fbbf24",
            "fg-info": "#38bdf8"
          }
        }
      },
      "warning": {
        "description": "Warning surfaces for toasts, notifications, alerts",
        "defaults": {
          "light": {
            "bg": "#fef3c7",
            "bg-hover": "#fde68a",
            "bg-pressed": "#fcd34d",
            "bg-disabled": "#fffbeb",
            "border": "#fcd34d",
            "border-hover": "#fbbf24",
            "border-pressed": "#f59e0b",
            "border-disabled": "#fde68a",
            "fg": "#92400e",
            "fg-soft": "#a16207",
            "fg-softer": "#ca8a04",
            "fg-strong": "#78350f",
            "fg-stronger": "#451a03",
            "fg-primary": "#1d4ed8",
            "fg-danger": "#dc2626",
            "fg-success": "#166534",
            "fg-warning": "#92400e",
            "fg-info": "#0369a1"
          },
          "dark": {
            "bg": "#2a220e",
            "bg-hover": "#362c12",
            "bg-pressed": "#423616",
            "bg-disabled": "#201a0a",
            "border": "#5c4a1a",
            "border-hover": "#66521b",
            "border-pressed": "#806722",
            "border-disabled": "#332910",
            "fg": "#fcd34d",
            "fg-soft": "#fbbf24",
            "fg-softer": "#f59e0b",
            "fg-strong": "#fde68a",
            "fg-stronger": "#fef3c7",
            "fg-primary": "#60a5fa",
            "fg-danger": "#f87171",
            "fg-success": "#4ade80",
            "fg-warning": "#fbbf24",
            "fg-info": "#38bdf8"
          }
        }
      },
      "danger": {
        "description": "Danger surfaces for toasts, notifications, alerts",
        "defaults": {
          "light": {
            "bg": "#fee2e2",
            "bg-hover": "#fecaca",
            "bg-pressed": "#fca5a5",
            "bg-disabled": "#fef2f2",
            "border": "#fca5a5",
            "border-hover": "#f87171",
            "border-pressed": "#ef4444",
            "border-disabled": "#fecaca",
            "fg": "#991b1b",
            "fg-soft": "#b91c1c",
            "fg-softer": "#dc2626",
            "fg-strong": "#7f1d1d",
            "fg-stronger": "#450a0a",
            "fg-primary": "#1d4ed8",
            "fg-danger": "#991b1b",
            "fg-success": "#166534",
            "fg-warning": "#a16207",
            "fg-info": "#0369a1"
          },
          "dark": {
            "bg": "#2e1414",
            "bg-hover": "#3a1a1a",
            "bg-pressed": "#462020",
            "bg-disabled": "#241010",
            "border": "#5c2020",
            "border-hover": "#662222",
            "border-pressed": "#802b2b",
            "border-disabled": "#331717",
            "fg": "#fca5a5",
            "fg-soft": "#f87171",
            "fg-softer": "#ef4444",
            "fg-strong": "#fecaca",
            "fg-stronger": "#fee2e2",
            "fg-primary": "#60a5fa",
            "fg-danger": "#f87171",
            "fg-success": "#4ade80",
            "fg-warning": "#fbbf24",
            "fg-info": "#38bdf8"
          }
        }
      },
      "info": {
        "description": "Info surfaces for toasts, notifications, alerts",
        "defaults": {
          "light": {
            "bg": "#dbeafe",
            "bg-hover": "#bfdbfe",
            "bg-pressed": "#93c5fd",
            "bg-disabled": "#eff6ff",
            "border": "#93c5fd",
            "border-hover": "#60a5fa",
            "border-pressed": "#3b82f6",
            "border-disabled": "#bfdbfe",
            "fg": "#1e40af",
            "fg-soft": "#1d4ed8",
            "fg-softer": "#2563eb",
            "fg-strong": "#1e3a8a",
            "fg-stronger": "#172554",
            "fg-primary": "#1d4ed8",
            "fg-danger": "#dc2626",
            "fg-success": "#166534",
            "fg-warning": "#a16207",
            "fg-info": "#1e40af"
          },
          "dark": {
            "bg": "#141e30",
            "bg-hover": "#1a263c",
            "bg-pressed": "#202e48",
            "bg-disabled": "#101826",
            "border": "#243c60",
            "border-hover": "#224066",
            "border-pressed": "#2b507d",
            "border-disabled": "#172336",
            "fg": "#93c5fd",
            "fg-soft": "#60a5fa",
            "fg-softer": "#3b82f6",
            "fg-strong": "#bfdbfe",
            "fg-stronger": "#dbeafe",
            "fg-primary": "#60a5fa",
            "fg-danger": "#f87171",
            "fg-success": "#4ade80",
            "fg-warning": "#fbbf24",
            "fg-info": "#60a5fa"
          }
        }
      }
    }
  },

  "specialTokens": {
    "focus": {
      "description": "Focus ring for accessibility",
      "tokens": {
        "ring": { "derivation": "theme:primary" },
        "ring-offset": { "default": "2px" },
        "ring-width": { "default": "2px" }
      }
    },
    "selection": {
      "description": "Text selection highlight - uses primary-based colors visible on all surfaces",
      "tokens": {
        "bg": { "derivation": { "light": "mix(theme:primary, #ffffff, 0.7)", "dark": "mix(theme:primary, #ffffff, 0.5)" } },
        "text": { "default": { "light": "#000000", "dark": "#000000" } }
      }
    },
    "link": {
      "description": "Hyperlink colors",
      "tokens": {
        "default": { "derivation": "theme:primary" },
        "hover": { "derivation": { "light": "darken(theme:primary, 10)", "dark": "lighten(theme:primary, 10)" } },
        "pressed": { "derivation": { "light": "darken(theme:primary, 15)", "dark": "lighten(theme:primary, 15)" } },
        "visited": { "derivation": "mix(theme:primary, #8b5cf6, 0.5)" }
      }
    },
    "scrollbar": {
      "description": "Custom scrollbar styling",
      "tokens": {
        "track": { "default": { "light": "#f5f5f5", "dark": "#1a1a1a" } },
        "thumb": { "default": { "light": "#c4c4c4", "dark": "#404040" } },
        "thumb-hover": { "default": { "light": "#a3a3a3", "dark": "#525252" } }
      }
    },
    "skeleton": {
      "description": "Loading skeleton states",
      "tokens": {
        "bg": { "default": { "light": "#e5e5e5", "dark": "#333333" } },
        "shimmer": { "default": { "light": "rgba(255, 255, 255, 0.5)", "dark": "rgba(255, 255, 255, 0.1)" } }
      }
    },
    "highlight": {
      "description": "Search/text highlight - uses primary-based colors visible on all surfaces",
      "tokens": {
        "bg": { "derivation": { "light": "mix(theme:primary, #ffffff, 0.8)", "dark": "mix(theme:primary, #ffffff, 0.6)" } },
        "text": { "default": { "light": "#000000", "dark": "#000000" } }
      }
    }
  },

  "componentTokens": {
    "description": "Shortcut tokens for common component patterns",
    "tokens": {
      "button-padding-x": { "default": "var(--space-4)" },
      "button-padding-y": { "default": "var(--space-2)" },
      "button-radius": { "default": "var(--radius-md)" },
      "input-height": { "default": "40px" },
      "input-padding-x": { "default": "var(--space-3)" },
      "card-padding": { "default": "var(--space-4)" },
      "modal-padding": { "default": "var(--space-6)" },
      "avatar-size-sm": { "default": "24px" },
      "avatar-size-md": { "default": "32px" },
      "avatar-size-lg": { "default": "48px" }
    }
  },

  "colorDerivation": {
    "description": "Rules for deriving colors from theme inputs",
    "rules": {
      "text-soft": {
        "formula": "mix(text, bg, 0.3)",
        "description": "30% less contrast than base text"
      },
      "text-softer": {
        "formula": "mix(text, bg, 0.5)",
        "description": "50% less contrast than base text"
      },
      "text-strong": {
        "formula": "mix(text, contrast(bg), 0.3)",
        "description": "Higher contrast text (30% toward maximum)"
      },
      "text-stronger": {
        "formula": { "light": "#000000", "dark": "#ffffff" },
        "description": "Maximum contrast text"
      },
      "border-soft": {
        "formula": { "light": "mix(page.border, page.bg, 0.4)", "dark": "mix(page.border, page.bg, 0.4)" },
        "description": "Subtle border - less contrast than default"
      },
      "border-strong": {
        "formula": { "light": "darken(page.border, 20)", "dark": "lighten(page.border, 20)" },
        "description": "Higher contrast border"
      },
      "border-stronger": {
        "formula": { "light": "mix(page.border, #000000, 0.5)", "dark": "mix(page.border, #ffffff, 0.5)" },
        "description": "Maximum contrast border"
      },
      "border-default": {
        "formula": { "light": "#e5e5e5", "dark": "#333333" },
        "description": "Subtle border color"
      },
      "secondary-from-primary": {
        "formula": "shiftHue(primary, 15)",
        "description": "Secondary derived by shifting primary hue 15 degrees"
      },
      "accent-from-primary": {
        "formula": "shiftHue(primary, 180)",
        "description": "Accent as complementary color to primary"
      },
      "neutral-from-primary": {
        "formula": "desaturate(primary, 80)",
        "description": "Neutral derived by desaturating primary"
      }
    }
  },

  "surfaces": {
    "description": "Tonal surface definitions - CSS classes that scope/override color group tokens for different visual contexts",
    "pattern": {
      "description": "Surfaces override color group tokens (--base-*, --soft-*, etc.) so components inside get contextual colors automatically.",
      "baseClass": ".surface",
      "modifierClasses": ".surface.{variant}"
    },
    "types": {
      "base": {
        "description": "Explicit reset to page defaults",
        "overrides": {}
      },
      "raised": {
        "description": "Elevated content (cards, panels) - lighter/elevated from page",
        "overrides": {
          "light": {
            "base-bg": "#ffffff",
            "base-border": "#e5e5e5",
            "shadow-md": "0 4px 6px -1px rgba(0, 0, 0, 0.1)"
          },
          "dark": {
            "base-bg": "#1a1a1a",
            "base-border": "#333333",
            "shadow-md": "0 4px 6px -1px rgba(0, 0, 0, 0.4)"
          }
        }
      },
      "sunken": {
        "description": "Recessed areas (input wells, sidebars) - darker/recessed from page",
        "overrides": {
          "light": {
            "base-bg": "#f0f0f0",
            "base-border": "#e5e5e5",
            "strong-bg": "#e5e5e5",
            "strong-bg-hover": "#d9d9d9",
            "strong-bg-pressed": "#cccccc"
          },
          "dark": {
            "base-bg": "#0a0a0a",
            "base-border": "#262626",
            "strong-bg": "#1f1f1f",
            "strong-bg-hover": "#2a2a2a",
            "strong-bg-pressed": "#333333"
          }
        }
      },
      "soft": {
        "description": "Subtle backgrounds - slightly muted from page",
        "overrides": {
          "light": {
            "base-bg": "#f7f7f7"
          },
          "dark": {
            "base-bg": "#141414"
          }
        }
      },
      "softer": {
        "description": "Very subtle backgrounds - more muted from page",
        "overrides": {
          "light": {
            "base-bg": "#f3f3f3"
          },
          "dark": {
            "base-bg": "#1a1a1a"
          }
        }
      },
      "strong": {
        "description": "Emphasized sections - higher contrast from page",
        "overrides": {
          "light": {
            "base-bg": "#e5e5e5",
            "stronger-bg": "#d9d9d9",
            "stronger-bg-hover": "#cccccc",
            "stronger-bg-pressed": "#bfbfbf"
          },
          "dark": {
            "base-bg": "#262626",
            "stronger-bg": "#333333",
            "stronger-bg-hover": "#404040",
            "stronger-bg-pressed": "#4d4d4d"
          }
        }
      },
      "stronger": {
        "description": "Very emphasized sections - highest contrast from page",
        "overrides": {
          "light": {
            "base-bg": "#d4d4d4"
          },
          "dark": {
            "base-bg": "#333333"
          }
        }
      },
      "inverted": {
        "description": "Opposite color scheme (tooltips, callouts)",
        "overrides": {
          "light": {
            "base-bg": "#1a1a1a",
            "base-bg-hover": "#262626",
            "base-bg-pressed": "#333333",
            "base-fg": "#e5e5e5",
            "base-fg-soft": "#a3a3a3",
            "base-fg-softer": "#737373",
            "base-fg-strong": "#f0f0f0",
            "base-fg-stronger": "#ffffff",
            "base-border": "#333333",
            "base-border-hover": "#4d4d4d",
            "base-border-pressed": "#666666",
            "strong-bg": "#333333",
            "strong-bg-hover": "#404040",
            "strong-bg-pressed": "#4d4d4d",
            "strong-fg": "#e5e5e5",
            "strong-border": "#4d4d4d",
            "primary-bg": "#60a5fa",
            "primary-bg-hover": "#3b82f6",
            "primary-bg-pressed": "#2563eb",
            "primary-fg": "#000000",
            "focus-ring": "#60a5fa",
            "selection-bg": "#4b5563",
            "selection-text": "#ffffff"
          },
          "dark": {
            "base-bg": "#fafafa",
            "base-bg-hover": "#f5f5f5",
            "base-bg-pressed": "#f0f0f0",
            "base-fg": "#171717",
            "base-fg-soft": "#5b5b5b",
            "base-fg-softer": "#898989",
            "base-fg-strong": "#0f0f0f",
            "base-fg-stronger": "#000000",
            "base-border": "#e5e5e5",
            "base-border-hover": "#d9d9d9",
            "base-border-pressed": "#c4c4c4",
            "primary-bg": "#2563eb",
            "primary-bg-hover": "#1450d2",
            "primary-bg-pressed": "#1249bf",
            "primary-bg-disabled": "#90aff3",
            "primary-fg": "#ffffff",
            "primary-fg-soft": "rgba(255, 255, 255, 0.85)",
            "primary-fg-softer": "rgba(255, 255, 255, 0.7)",
            "primary-border": "transparent",
            "primary-border-hover": "rgba(255, 255, 255, 0.2)",
            "primary-border-pressed": "rgba(255, 255, 255, 0.3)",
            "strong-bg": "#e0e0e0",
            "strong-bg-hover": "#d6d6d6",
            "strong-bg-pressed": "#cccccc",
            "strong-bg-disabled": "#ebebeb",
            "strong-fg": "#000000",
            "strong-fg-soft": "#434343",
            "strong-border": "#d1d1d1",
            "strong-border-hover": "#c7c7c7",
            "strong-border-pressed": "#bdbdbd",
            "softer-bg": "#f0f0f0",
            "softer-bg-hover": "#ebebeb",
            "softer-bg-pressed": "#e6e6e6",
            "softer-bg-disabled": "#f5f5f5",
            "softer-fg": "#000000",
            "softer-fg-soft": "#484848",
            "softer-fg-softer": "#787878",
            "softer-border": "#dbdbdb",
            "softer-border-hover": "#d1d1d1",
            "softer-border-pressed": "#c7c7c7",
            "soft-bg": "#f5f5f5",
            "soft-bg-hover": "#f0f0f0",
            "soft-bg-pressed": "#ebebeb",
            "soft-fg": "#171717",
            "soft-border": "#e5e5e5",
            "focus-ring": "#2563eb",
            "selection-bg": "#bed0f9",
            "selection-text": "#000000"
          }
        }
      },
      "primary": {
        "description": "Primary color background (teaching bubbles, branded sections)",
        "note": "On primary surfaces, buttons use inverted colors for contrast",
        "overrides": {
          "light": {
            "base-bg": "#2563eb",
            "base-bg-hover": "#1d4ed8",
            "base-bg-pressed": "#1e40af",
            "base-fg": "#ffffff",
            "base-fg-soft": "rgba(255, 255, 255, 0.85)",
            "base-fg-softer": "rgba(255, 255, 255, 0.7)",
            "base-border": "rgba(255, 255, 255, 0.2)",
            "primary-bg": "#ffffff",
            "primary-bg-hover": "rgba(255, 255, 255, 0.9)",
            "primary-bg-pressed": "rgba(255, 255, 255, 0.8)",
            "primary-fg": "#2563eb",
            "primary-border": "rgba(255, 255, 255, 0.3)",
            "softer-bg": "rgba(0, 0, 0, 0.15)",
            "softer-bg-hover": "rgba(0, 0, 0, 0.2)",
            "softer-bg-pressed": "rgba(0, 0, 0, 0.25)",
            "softer-border": "rgba(255, 255, 255, 0.2)",
            "softer-fg": "#ffffff",
            "softer-fg-soft": "rgba(255, 255, 255, 0.7)",
            "shadow-inner": "inset 0 1px 2px rgba(0, 0, 0, 0.2)",
            "soft-bg": "rgba(255, 255, 255, 0.15)",
            "soft-bg-hover": "rgba(255, 255, 255, 0.25)",
            "strong-bg": "rgba(255, 255, 255, 0.2)",
            "strong-bg-hover": "rgba(255, 255, 255, 0.3)",
            "strong-bg-pressed": "rgba(255, 255, 255, 0.4)",
            "strong-fg": "#ffffff",
            "strong-border": "rgba(255, 255, 255, 0.3)",
            "base-bg-disabled": "rgba(255, 255, 255, 0.1)",
            "base-border-soft": "rgba(255, 255, 255, 0.2)",
            "focus-ring": "#ffffff",
            "selection-bg": "rgba(255, 255, 255, 0.4)",
            "selection-text": "#000000"
          },
          "dark": {
            "base-bg": "#2563eb",
            "base-bg-hover": "#1d4ed8",
            "base-bg-pressed": "#1e40af",
            "base-fg": "#ffffff",
            "base-fg-soft": "rgba(255, 255, 255, 0.85)",
            "base-fg-softer": "rgba(255, 255, 255, 0.7)",
            "base-border": "rgba(255, 255, 255, 0.2)",
            "primary-bg": "#ffffff",
            "primary-bg-hover": "rgba(255, 255, 255, 0.9)",
            "primary-bg-pressed": "rgba(255, 255, 255, 0.8)",
            "primary-fg": "#2563eb",
            "primary-border": "rgba(255, 255, 255, 0.3)",
            "softer-bg": "rgba(0, 0, 0, 0.2)",
            "softer-bg-hover": "rgba(0, 0, 0, 0.25)",
            "softer-bg-pressed": "rgba(0, 0, 0, 0.3)",
            "softer-border": "rgba(255, 255, 255, 0.15)",
            "softer-fg": "#ffffff",
            "softer-fg-soft": "rgba(255, 255, 255, 0.7)",
            "shadow-inner": "inset 0 1px 2px rgba(0, 0, 0, 0.25)",
            "soft-bg": "rgba(255, 255, 255, 0.1)",
            "soft-bg-hover": "rgba(255, 255, 255, 0.2)",
            "strong-bg": "rgba(255, 255, 255, 0.1)",
            "strong-bg-hover": "rgba(255, 255, 255, 0.25)",
            "strong-bg-pressed": "rgba(255, 255, 255, 0.35)",
            "strong-fg": "#ffffff",
            "strong-border": "rgba(255, 255, 255, 0.25)",
            "base-bg-disabled": "rgba(255, 255, 255, 0.1)",
            "focus-ring": "#ffffff",
            "selection-bg": "rgba(255, 255, 255, 0.4)",
            "selection-text": "#000000"
          }
        }
      }
    },
    "feedbackSurfaces": {
      "description": "Feedback surfaces use the existing feedback role tokens",
      "note": "success, warning, danger, info surfaces apply their role tokens as surface overrides"
    }
  },

  "accessibility": {
    "contrastRequirements": {
      "AA": {
        "normalText": 4.5,
        "largeText": 3,
        "uiComponents": 3
      },
      "AAA": {
        "normalText": 7,
        "largeText": 4.5,
        "uiComponents": 4.5
      }
    }
  },

  "themeInputSchema": {
    "description": "Schema for theme JSON files",
    "required": ["id", "name", "colors"],
    "properties": {
      "id": { "type": "string", "pattern": "^[a-z][a-z0-9-]*$" },
      "name": { "type": "string" },
      "description": { "type": "string" },
      "colors": {
        "required": ["primary"],
        "properties": {
          "primary": { "type": "string", "format": "color" },
          "secondary": { "type": "string", "format": "color", "description": "Optional, derived from primary if omitted" },
          "accent": { "type": "string", "format": "color", "description": "Optional, derived from primary if omitted" },
          "neutral": { "type": "string", "format": "color", "description": "Optional, derived from primary if omitted" }
        }
      },
      "config": {
        "properties": {
          "saturation": { "type": "number", "minimum": -100, "maximum": 100 },
          "temperature": { "type": "number", "minimum": -100, "maximum": 100 },
          "contrastBoost": { "type": "number", "minimum": 0, "maximum": 100 }
        }
      },
      "accessibility": {
        "properties": {
          "level": { "enum": ["AA", "AAA"] }
        }
      },
      "typography": {
        "properties": {
          "fontSans": { "type": "string" },
          "fontMono": { "type": "string" },
          "fontSerif": { "type": "string" },
          "scale": { "type": "number" },
          "baseSize": { "type": "number" }
        }
      },
      "overrides": {
        "description": "Direct token overrides for specific modes",
        "properties": {
          "light": { "type": "object", "additionalProperties": { "type": "string" } },
          "dark": { "type": "object", "additionalProperties": { "type": "string" } }
        }
      }
    }
  }
}
